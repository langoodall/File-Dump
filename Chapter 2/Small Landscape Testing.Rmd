---
title: "Untitled"
output: pdf_document
date: "2024-08-28"
---

```{r}
library(tidyverse)
library(terra)
library(sf)
```

# Test Run 1 (Regular)

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 1/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# Test Run 2 (SOM3C * 4)

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 2/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# Test Run 3 (Regular, Decay SOM1surf = 1.3)

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 3/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# Test Run 4 (Decay SOM1surf = 1.3, Deadwood and roots / 2)

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 4/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# Test Run 5 (Decay SOM1surf = 1.3, Deadwood and roots * 0.001)

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 5/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 1\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# Test Run 6 (Decay SOM1surf = 1.3, DOM1soil = 2, Deadwood and roots * 0.001)

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 6/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.2\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# Test Run 7 (Decay SOM1surf = 1.3, SOM1soil = 2, SOM2 = 0.4, Deadwood and roots * 0.001)

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 7/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.013\nNSlope = 0.006\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# Test Run 8 (Decay SOM1surf = 1.3, SOM1soil = 2, SOM2 = 0.4, Deadwood and roots * 0.001, NSlope = 0.01, DeNitrif = 0.02)

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 8/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.02\nNSlope = 0.01\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.02\nNSlope = 0.01\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.02\nNSlope = 0.01\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# Test Run 9 (Decay SOM1surf = 1.3, SOM1soil = 2, SOM2 = 0.4, Deadwood and roots * 0.001, NSlope = 0.01, DeNitrif = 0.02)
# values(SOM1surfN * 3), values(SOM2N * 3)

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 9/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.02\nNSlope = 0.01\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.02\nNSlope = 0.01\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.02\nNSlope = 0.01\nNIntercept = 0.28", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# Test Run 10 (Decay SOM1surf = 1.3, SOM1soil = 2, SOM2 = 0.4, Deadwood and roots * 0.001, NSlope = 0.01, DeNitrif = 0.05, NIntercept = 0.35)

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 10/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.35", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.35", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1.3\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.35", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# Test Run 11 (Decay SOM1surf = 1.34, SOM1soil = 2, SOM2 = 0.4, Deadwood and roots * 0.001, NSlope = 0.01, DeNitrif = 0.05, NIntercept = 0.35)

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 11/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.35", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.35", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.35", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# Test Run 12 (Decay SOM1surf = 1.34, SOM1soil = 2, SOM2 = 0.4, Deadwood and roots * 0.001, NSlope = 0.01, DeNitrif = 0.05, NIntercept = 0.25)

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 12/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.25", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.25", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.25", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# Test Run 13 (Decay SOM1surf = 1.34, SOM1soil = 2, SOM2 = 0.4, Deadwood and roots * 0.001, NSlope = 0.01, DeNitrif = 0.05, NIntercept = 0.25)
# Future climate test (MRI-CGCM3-RCP85)

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 13/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.25", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.25", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.25", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# Test Run 14 (Decay SOM1surf = 1.34, SOM1soil = 2, SOM2 = 0.4, Deadwood and roots * 0.001, NSlope = 0.01, DeNitrif = 0.05, NIntercept = 0.25)
# Normal Climate
# SOM1surfC * 0.5, SOM1soilC * 0.5

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/Test 14/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.25", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.25", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.25", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

```{r}
successionLog <- read_csv("C:/Users/lagoodal/Desktop/Dissertation Stuff/Chapter 2/LANDIS Outputs/Small Landscape/FAKE/NECN-succession-log.csv")

# Carbon
carbonDf <- successionLog %>% select(Time, SOMTC, C_SOM1surf, C_SOM1soil, C_SOM2, C_SOM3) %>% 
  pivot_longer(cols = "SOMTC":"C_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(carbonDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.25", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("SOMTC" = "red", "C_SOM1surf" = "cornflowerblue", "C_SOM1soil" = "darkorchid", "C_SOM2" = "darkorange", "C_SOM3" = "darkgreen"))

# Nitrogen
nitrogenDf <- successionLog %>% select(Time, TotalSoilN, N_SOM1surf, N_SOM1soil, N_SOM2, N_SOM3) %>% 
  pivot_longer(cols = "TotalSoilN":"N_SOM3", names_to = "Pool", values_to = "g_m2")
ggplot(nitrogenDf, aes(x = Time, y = g_m2, col = Pool)) +
  geom_line(size = 1) +
  theme_classic() +
  annotate("text", x = 27, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.25", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  scale_color_manual(values = c("TotalSoilN" = "red", "N_SOM1surf" = "cornflowerblue", "N_SOM1soil" = "darkorchid", "N_SOM2" = "darkorange", "N_SOM3" = "darkgreen"))

# Ratio
ratioDf <- rbind(carbonDf, nitrogenDf) %>%
  pivot_wider(names_from = "Pool", values_from = "g_m2") %>%
  mutate(Total = SOMTC / TotalSoilN,
         Surf = C_SOM1surf / N_SOM1surf,
         Soil = C_SOM1soil / N_SOM1soil,
         SOM2 = C_SOM2 / N_SOM2,
         SOM3 = C_SOM3 / N_SOM3) %>%
  select(Time, Total, Surf, Soil, SOM2, SOM3) %>%
  pivot_longer(cols = "Total":"SOM3", names_to = "Pool", values_to = "C:N Ratio")

ggplot(ratioDf, aes(x = Time, y = `C:N Ratio`, col = Pool)) +
  geom_line(size  = 1) +
  theme_classic() +
  ylim(0,80) +
  annotate("text", x = 31, y = Inf, label = "DecaySurf = 1.34\nDecaySoil = 2\nDecaySOM2 = 0.4\nDecaySOM3 = 0.0000001\nDenitrification = 0.05\nNSlope = 0.01\nNIntercept = 0.25", 
           hjust = 1, vjust = 1, size = 3, color = "black", 
           fontface = "bold", family = "serif") +
  theme(plot.margin = margin(10, 40, 10, 10)) +
  scale_x_continuous(breaks = seq(0, 100, 10), limits = c(0,100)) +
  geom_hline(yintercept = 5, linetype = "dashed", col = "blue") +
  geom_hline(yintercept = 10, linetype = "dashed") +
  scale_color_manual(values = c("Total" = "red", "Surf" = "cornflowerblue", "Soil" = "darkorchid", "SOM2" = "darkorange", "SOM3" = "darkgreen"))

```

# For writing new rasters out

```{r}
SOM1surfC <- rast("C:/Users/lagoodal/Desktop/Dissertation Stuff/Clipped Test/Small Landscape/Clipped Piedmont/SOM1surfC.tif")
SOM1soilC <- rast("C:/Users/lagoodal/Desktop/Dissertation Stuff/Clipped Test/Small Landscape/Clipped Piedmont/SOM1soilC.tif")
plot(SOM1surfC)
plot(SOM1soilC)

values(SOM1surfC) <- values(SOM1surfC) * 0.5
values(SOM1soilC) <- values(SOM1soilC) * 0.5


writeRaster(SOM1soilC,
            filename = "C:/Users/lagoodal/Desktop/Dissertation Stuff/Clipped Test/Small Landscape/Test Rasters/SOM1soilC_0.5.tif",
            datatype = "FLT4S",
            NAflag = 1.1,
            overwrite = TRUE)
```













